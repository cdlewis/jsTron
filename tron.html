<html><head><title>Tron</title></head><style>*{padding: 0;margin: 0;}.box{position: absolute;text-align: center;width: 100%;}.box p{text-align: center;background-color: white;width: 250px;padding: 20px;border-radius: 20px;font-size: 40px;  font-family: "Helvetica";  margin: 0 auto;}.box p:hover{cursor: pointer;background-color: rgb( 241, 241, 241 );}</style><body></body><script>var g=false;function k(){var d=document.createElement("div");d.setAttribute("class","box");var e=document.createElement("p");d.appendChild(e);document.body.appendChild(d);this.m=function(f,b){e.innerHTML=f;e.style.display="block";d.style.top=window.innerHeight/2-parseInt(window.getComputedStyle(d,null).height,10)/2;e.onclick=function(c){this.style.display="none";b(c)}}};function n(d,e,f){for(var b=Array(d),c=0;c<d;c++){b[c]=Array(e);for(var h=0;h<e;h++)b[c][h]=f}return b}function o(d,e){for(var f=0,b=d.length;f<b;f++)for(var c=0,h=d[c].length;c<h;c++)d[f][c]=e(d[f][c])};function p(d,e){this.l=[];var f=Math.floor(0.02*e/2);this.i=function(b){if(b.h==1||b.h==-1)for(var c=b.y-f;c<=b.y+f;c++){if(b.x<0||b.x>=d||c<0||c>=e)return g;if(this.j[b.x][c]!=0)return g;this.j[b.x][c]=b.g;this.l.push({x:b.x,y:c,g:b.g})}else for(c=b.x-f;c<=b.x+f;c++){if(c<0||c>=d||b.y<0||b.y>=e)return g;if(this.j[c][b.y]!=0)return g;this.j[c][b.y]=b.g;this.l.push({x:c,y:b.y,g:b.g})}return true};this.update=function(){this.d.move();var b=this.i(this.d);this.e.move();var c=this.i(this.e);if(b==true&&
c==true)return[true,0];else if(b==g&&c==g)return[g,"Draw!"];else if(b==g)return[g,"Green Wins!"];else if(c==g)return[g,"Red Wins!"]};this.reset=function(){o(this.j,function(){return 0});this.d.reset();this.e.reset();this.i(this.d);this.i(this.e)};this.j=n(d,e,0);this.d=new q(Math.floor(0.2*d),Math.floor(e/2),1,0,1,f);this.e=new q(Math.floor(0.8*d),Math.floor(e/2),-1,0,2,f);this.i(this.d);this.i(this.e)}
function q(d,e,f,b,c,h){this.x=d;this.y=e;this.h=f;this.k=b;this.g=c;var l=d,m=e;this.reset=function(){this.x=d;this.y=e;this.h=f;this.k=b};this.move=function(){this.x+=this.h;this.y+=this.k};this.f=function(i,j){if(!(i==this.h||j==this.k))if(!(Math.abs(l-this.x)<=h*2&&Math.abs(m-this.y)<=h*2)){if(i!=0){this.x+=i*h;this.y+=-1*this.k*h}else{this.x+=-1*this.h*h;this.y+=j*h}this.h=i;this.k=j;l=this.x;m=this.y}}}
new function(){window.a=this;this.b=new p(window.innerWidth,window.innerHeight);var d=document.createElement("canvas");d.width=window.innerWidth;d.height=window.innerHeight;document.body.appendChild(d);var e=d.getContext("2d");e.fillStyle="rgb(51,51,51)";e.fillRect(0,0,d.width,d.height);this.c=[];this.c[87]=function(){window.a.b.d.f(0,-1)};this.c[65]=function(){window.a.b.d.f(-1,0)};this.c[83]=function(){window.a.b.d.f(0,1)};this.c[68]=function(){window.a.b.d.f(1,0)};this.c[38]=function(){window.a.b.e.f(0,
-1)};this.c[40]=function(){window.a.b.e.f(0,1)};this.c[37]=function(){window.a.b.e.f(-1,0)};this.c[39]=function(){window.a.b.e.f(1,0)};var f=new k;f.m("Start Game",function(){window.a.start()});document.onkeydown=function(b){b=window.a.c[b.keyCode];b!=undefined&&b()};this.start=function(){this.loop=setInterval(function(){window.a.o()},30)};this.n=function(){for(;this.b.l.length>0;){var b=this.b.l.pop();e.fillStyle=b.g==1?"rgb(255,160,160)":"rgb(143,200,127)";e.fillRect(b.x,b.y,1,1)}};this.p=function(){e.fillStyle=
"rgb(51,51,51)";e.fillRect(0,0,d.width,d.height)};this.o=function(){this.b.update();var b=this.b.update();this.n();if(b[0]==g){clearInterval(this.loop);f.m(b[1],function(){window.a.b.reset();window.a.p();window.a.start()})}}};
</script></html>